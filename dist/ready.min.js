(function(){var c;function e(a,d){var b;if(e.j(a))return b=e.i(e.l),b.addListener(a);if(0===arguments.length)return e.i(e.l);b=e.i(a);d&&(b=new f(a),e.db.c[a]=b);return b}e.l="main";e.db={c:{},uid:1};e.j=function(a){return"[object Function]"===Object.prototype.toString.call(a)};
e.bind=function(a,d){if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(g,b);return a.apply(d,g)}}return function(){return a.apply(d,arguments)}};e.i=function(a){if(e.db.c[a])return e.db.c[a];var d=new f(a);return e.db.c[a]=d};e.reset=function(){for(var a in e.db.c)e.db.c[a].q(),delete e.db.c[a]};function f(a){this.w=a;this.f=[];this.a={};this.b={};this.g=!1}c=f.prototype;
c.q=function(){i(this,this.f);i(this,this.a,!0);i(this,this.b)};function i(a,d,b){for(var g in d)b&&d[g].r&&delete a[d[g].p],delete d[g]}c.s=function(){return this.g};c.t=function(a){return this.a[a]&&this.a[a].e||!1};c.addListener=function(a,d){var b=d||this;if(this.s())return a.call(b,this),this;this.f.push({d:a,k:b});return this};c.u=function(a,d,b){b=b||this;if(this.g||this.t(a))return d.apply(b,this.h(a)),this;this.a[a]||this.m(a);this.b[a].push({p:a,d:d,k:b});return this};
c.m=function(a){if(!this.a[a])return this.a[a]={p:a,e:!1,r:!1,n:null},this.b[a]=[],this[a]||(this[a]=e.bind(this.o,this,a),this.a[a].r=!0),this};c.o=function(a,d){var b=this.a[a];if(!b||b.e)return this;b.e=!0;b.n=Array.prototype.slice.call(arguments,1);j(this,a);a:{for(var g in this.a)if(!this.a[g].e){b=!1;break a}b=!0}if(b){this.g=!0;for(var h in this.b)j(this,h),delete this.b[h];for(h=this.f.shift();h;)e.j(h.d)&&h.d.call(h.k,this),h=this.f.shift()}return this};
function j(a,d){if(0!==a.b[d].length){for(var b=a.b[d].shift();b;)e.j(b.d)&&b.d.apply(b.k,a.h(d)),b=a.b[d].shift();delete a.b[d]}}c.h=function(a){return this.a[a].n};e.v={};var k=e;k.C=f;var l=f.prototype;l.addCheck=l.m;l.check=l.o;l.addCheckListener=l.u;l.addListener=l.addListener;l.isDone=l.s;l.isDoneCheck=l.t;l.dispose=l.q;l.getArgs=l.h;k.C.prototype=l;window.ss={ready:k};}).call(this);
